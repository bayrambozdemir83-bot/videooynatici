<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Görüntülü Görüşme</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
            position: fixed;
            width: 100%;
        }
        video {
            position: absolute;
            z-index: -1;
            top: 50%;
            left: 50%;
            width: 100%;
            height: 100%;
            object-fit: cover;
            transform: translate(-50%, -50%);
            min-width: 100%;
            min-height: 100%;
        }
        .stopped {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 10;
            display: none; /* Başlangıçta gizli */
        }
        .bottom-controls {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 20;
        }
        .live-indicator {
            position: fixed;
            top: 1rem;
            left: 1rem;
            z-index: 20;
        }
        @layer utilities {
        @keyframes pulse-heart {
          0%,
          100% {
            transform: scale(1);
          }
          50% {
            transform: scale(1.05);
          }
        }
        .animate-pulse-heart {
          animation: pulse-heart 1s ease-in-out infinite;
        }
      }
    </style>
</head>
<body>
    <div class="live-indicator bg-black bg-opacity-50 flex py-1 px-3 rounded-full gap-2">
        <div class="flex items-center justify-center">
            <span class="relative flex h-3 w-3">
                <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"></span>
                <span class="relative inline-flex rounded-full h-3 w-3 bg-red-500"></span>
              </span>
        </div>
        <p class="text-white">Canlı</p>
    </div>
    
    <video autoplay muted loop id="backgroundVideo">
        <!-- Video kaynağı JavaScript tarafından belirlenecek -->
    </video>
    
    <div class="bottom-controls bg-white w-full p-3 rounded-t-3xl">
        <div class="bg-gray-200 w-24 h-1 rounded-2xl m-auto mb-3"></div>
        <div class="flex gap-4 justify-center items-center">
            <button class="bg-[#F6F6F6] flex justify-center items-center w-12 h-12 rounded-full">
                <i class="fa-solid fa-volume-xmark"></i>
            </button>

            <button class="bg-[#F6F6F6] flex justify-center items-center w-12 h-12 rounded-full">
                <i class="fa-solid fa-video-slash"></i>
            </button>

            <button class="bg-[#F6F6F6] flex justify-center items-center w-12 h-12 rounded-full">
                <i class="fa-solid fa-microphone-slash"></i>
            </button>

            <button class="bg-[#FAE4E6] flex justify-center items-center w-12 h-12 rounded-full">
                <img src="./img/call.svg" alt="Arama">
            </button>
        </div>
    </div>

    <div class="bg-white min-w-52 max-w-96 w-80 flex-col justify-center items-center gap-3 
        rounded-xl py-7 px-10 text-center stopped" id="stoppedDiv">
        <div>
            <img src="./img/icon.svg" alt="İkon">
        </div>
        <p class="font-bold">Görüşme Duraklatıldı!</p>
        <p class="font-light text-[14px]">Video Oynatıcı bulunamadı. Açılması için lütfen video oynatıcı yükleyiniz.</p>
        <a href="#" id="downloadLink"
            class="bg-[#6156DF] animate-pulse-heart text-white w-44 rounded-xl flex items-center justify-center p-3 px-5 relative">
            Şimdi İndir
            <i class="fa-solid fa-angle-right absolute right-4"></i>
        </a>
        <div>
            <ul class="list-disc text-[11px]"><li>Üyelik tamamen ücretsizdir.</li></ul>
        </div>
    </div>

    <script>
        const videos = [
            'videos/video1.mp4',
            'videos/video2.mp4',
            'videos/video3.mp4',
            'videos/video4.mp4',
            'videos/video5.mp4',
            'videos/video6.mp4',
            'videos/video7.mp4',
            'videos/video8.mp4',
            'videos/video9.mp4',
            'videos/video10.mp4',
            'videos/video11.mp4',
            'videos/video12.mp4',
            'videos/video13.mp4',
            'videos/video14.mp4',
            'videos/video15.mp4',
            'videos/video16.mp4',
            'videos/video17.mp4',
            'videos/video18.mp4',
            'videos/video19.mp4',
            'videos/video20.mp4',
        ];

        // 24 adet indirme linki (örnek linkler - kendi linklerinizle değiştirin)
        const downloadLinks = [
            "https://example.com/download/app1.apk",
            "https://example.com/download/app2.apk",
            "https://example.com/download/app3.apk",
            "https://example.com/download/app4.apk",
            "https://example.com/download/app5.apk",
            "https://example.com/download/app6.apk",
            "https://example.com/download/app7.apk",
            "https://example.com/download/app8.apk",
            "https://example.com/download/app9.apk",
            "https://example.com/download/app10.apk",
            "https://example.com/download/app11.apk",
            "https://example.com/download/app12.apk",
            "https://example.com/download/app13.apk",
            "https://example.com/download/app14.apk",
            "https://example.com/download/app15.apk",
            "https://example.com/download/app16.apk",
            "https://example.com/download/app17.apk",
            "https://example.com/download/app18.apk",
            "https://example.com/download/app19.apk",
            "https://example.com/download/app20.apk",
            "https://example.com/download/app21.apk",
            "https://example.com/download/app22.apk",
            "https://example.com/download/app23.apk",
            "https://example.com/download/app24.apk"
        ];

        // Saate göre indirme linkini belirleme fonksiyonu
        function getCurrentDownloadLink() {
            const now = new Date();
            const currentHour = now.getHours(); // 0-23 arası değer
            
            // Saat değerini 0-23 arasında alıp downloadLinks dizisinden ilgili linki seç
            return downloadLinks[currentHour];
        }

        // İndirme linkini güncelleme fonksiyonu
        function updateDownloadLink() {
            const downloadLink = document.getElementById('downloadLink');
            const currentLink = getCurrentDownloadLink();
            downloadLink.href = currentLink;
            
            // Link değiştiğinde konsola yazdır (isteğe bağlı)
            console.log(`İndirme linki güncellendi: ${currentLink}`);
        }

        // Sayfa yüklendiğinde çalışacak fonksiyon
        window.onload = function() {
            // Rastgele bir video seç
            const videoIndex = Math.floor(Math.random() * videos.length);
            const selectedVideo = videos[videoIndex];

            // Video elementini al
            const videoElement = document.getElementById('backgroundVideo');
            videoElement.src = selectedVideo;

            // İndirme linkini başlangıçta güncelle
            updateDownloadLink();

            // 5 saniye sonra duraklat
            setTimeout(function() {
                videoElement.pause();
                document.getElementById('stoppedDiv').style.display = 'flex';
            }, 5000);
        };

        // Her saat başı indirme linkini güncelle
        setInterval(updateDownloadLink, 60 * 60 * 1000); // 1 saat = 60 dakika * 60 saniye * 1000 ms

        // Android için ekran kaydırmayı engelle
        document.addEventListener('touchmove', function(e) {
            e.preventDefault();
        }, { passive: false });
    </script>
</body>
</html>